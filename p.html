std::string def = removeRepeated(_loc.getDefaultt() + "/" , '/');
def.erase(def.size() - 1);
std::string scriptUri = removeRepeated(_req.getUri() , '/');
std::string scriptPath = removeRepeated(_loc.getRoot() + "/" + scriptUri , '/');
if (isDirictory(scriptPath))
{
    scriptUri = removeRepeated(scriptUri +"/"+  def  , '/');
    scriptPath = removeRepeated(scriptPath + "/" + def , '/');
}
std::cout << "scriptUri :" << scriptUri << std::endl;
std::cout << "scriptPath :" << scriptPath << std::endl;

// std::string  def = removeRepeated(_loc.getDefaultt()  + "/" , '/');
// def.erase(def.size() - 1);
std::map<std::string , std::string> mp;
std::map<std::string , std::string> req_headers = _req.getHeaders();
for(std::map<std::string , std::string>::iterator it = req_headers.begin() ; it != req_headers.end() ; it++ )
{
    std::string key("HTTP_");
    key += it->first;
    std::transform(key.begin(), key.end(), key.begin(), asciiToUpper);
    mp[key] = it->second;
}
std::vector<std::string> remote = split(req_headers["Host"], ":");
mp["QUERY_STRING"] = _query;
mp["REQUEST_METHOD"] = _method;
mp["CONTENT_TYPE"] = _req.getContentType();
mp["CONTENT_LENGTH"] = std::to_string(_req.getContentLength());
mp["SCRIPT_NAME"] = removeRepeated( _uri+ "/" + def, '/') ;
if (isDirictory(_req.getUri()))
    mp["REQUEST_URI"] = removeRepeated( _uri+ "/" + def, '/');
else
    mp["REQUEST_URI"] = removeRepeated(  _uri+ "/" , '/');
mp["DOCUMENT_URI"] = scriptPath;
mp["DOCUMENT_ROOT"] = _loc.getRoot();
mp["SERVER_PROTOCOL"] = "HTTP/1.1";
mp["REQUEST_SCHEME"] = "http";
mp["GATEWAY_INTERFACE"] = "CGI/1.1";
mp["SERVER_SOFTWARE"] = "webserv/2.1";
// if (isDirictory(removeRepeated(_loc.getRoot() + "/"+ _req.getUri(), '/')))
//     mp["PATH_INFO"] = def;

mp["PATH_TRANSLATED"] = filepath;
mp["REMOTE_ADDR"] = remote[0];
mp["REMOTE_PORT"] = remote[1];
mp["SERVER_ADDR"] = _server.getHost();
mp["SERVER_PORT"] = std::to_string(_server.getPort());
mp["SERVER_NAME"] = (_server.getServerName())[0];
mp["REDIRECT_STATUS"] = "200";
mp["SCRIPT_FILENAME"] =  removeRepeated(_loc.getRoot() + "/" + _path, '/');
// mp["PATH_TRANSLATED"] = mp["SCRIPT_FILENAME"];
mp["PHP_SELF"] = "/wp-admin/index.php";
//     // mp["PATH_INFO"] = removeRepeated(_loc.getRoot() + "/" + _path, '/');

//     // mp["REMOTE_ADDR"] = _server.getHost();
//     // {
//     //     std::vector <std::string> tmp = split(path, "/");
//     //     std::string path_info = "/";
//     //     for (std::vector<std::string>::iterator it = tmp.begin(); it != --tmp.end(); it++)
//     //         path_info += *it + "/";
//     // }
//     //TODO : fill the variables bellow dinammically
//     // std::cout << filepath << " <-- filepath | path " << path;
//     // std::cout << uri << " <-- uri /\n";

//   //_path.substr(_loc.getLocation().size());
